import os
import time

full_art = r"""

                                                                                   ...........                                                                        
                                                                            ..-+%@@@@@%######***++-..                                                                 
                                                                  ..-+#%@@@@@@@@@@@@@@@@@@@@@@@%%%%##*+=..                                                            
                                                               .:%@@@@@@@@@@@@@@@@@%@%@@@@@@@@@@@@@@@@%%##*+:.                                                        
                                                             .+@@@@@@@@@@@%###********@@@@@%%%%##**#%@@@@@@%#*+:.                                                     
                                                          .:**+*%@@@@%##***+++++++++++@@@@@@@@@@@%%%%#**+*#@@@%#*=:.                                                  
                                                       ..=--=*@@@%#****+++++==========@@@@@@@@@@@@@@@%%%%%*=--#@%%#+-.                                                
                                                     .-----*@@#*****++++++==========-=@@@@@@@@@@@@@@@@@@%%%%#*=::*#**=-.                                              
                                                  .::--=*%#****++++++++======---------@@@@@@@@@@@@@@@@@@@@@%%%#+-..:-===-.                                            
                                               ..::--+%%***+++++++++++=====-------::::@@@@@@@@@@@@@@@@@@@@@@%%#*=.....:=+=:.                                          
                                             .:::--#%#***++++++++++++=====----::::::..@@@@@@@@@@@@@@@@@@@@@@@@%#+:......=++=:                                         
                                            .:::-#%****+++++++++++++=====----:::::....%@@@@@@@@@@@@@@@@@@@@@@@@%#+-......-**+=.                                       
                                          .:::-*%#***++++++========+=====----:::......@@@@@@@@@@@@@@@@@@@@@@@@@@%%*=......-##+=.                                      
                                         .:::-%#**++++++=================----:::......@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#+-:...:-##*=-                                     
                                        .:::=%***+++++====================---:::......@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#*+=---=%#+=-                                    
                                       ::::+%**+++++=======================---::::....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%#*+==*%#+=-.                                  
                                      .:::*%**++++=========================----::::...@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#*+++#%#++=.                                 
                                     .:::=%*+++++=========-------============----::::.@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%#*++*@%*+*=                                 
                                    .:::-%++++++=======-----------==============-----:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%**++%%#*=-:.                               
                                   .::.:#*+++++=====---------------===============----@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#**+%@%#+=--.                              
                                  .::.:*#+++++=====-----------------================--@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%##**#@%#**=--.                             
                                  .::.:%+++++====-------------------===============---@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%#**#@@%###=-:                             
                                 .:...*#+++++====------------------==================-@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%##**@@%##@+==.                            
                                 ....-%*++++======================================----@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%#**@@@%%@#++-.                           
                                 ---------=======++++**#######****+++++++++++=========@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%###@@@%@@%+*+.                           
                               .:...::::::+#@@@@%##***++++++++++++++==================@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%###@@@%@@@*++:                           
                              ....:::::-*@@@%##***+++++++++++++++========-------======@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%###@@@@@@@*++=.                          
                             ....:::::=@@@%#***++++++++++++++++=======--------------==@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%###@@@@@@@*=-=..                         
                            ......::=%@%##***++++++++++++++++=======-----------------=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%###@@@@@%@*---.....                      
                           ......::#@%#****+++++++++++++++++======-----:::::::--------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%#%@@@@@%@#:::-:.....                    
                          ......:#@%****+++++++++++++++++++=====----::::::::::::------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%@@@@%#@#..:==--:.:                    
                         ......=%%#**++++++++++++++++++++======---:::::...::::::------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%@@@@%*@#...+***+==.                   
                        ......*@%**++++++++++++++++++++======----:::.......:::::------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%@@@@%*@#...+%#****.                   
                       .....-%%**+++++++++++++++++=+========---:::..........::::------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%@@@@@%=%*...++#@%##:                   
                     .:+=-.*%#++++++++=====================---:::.........::::::------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@%-#*...==++#@#:                   
                    .:+++%##*+++========-===============----:::...........::::::------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@%-**...=-=+++%:                   
                   .-*+*=#%@@@@%%%*=:......::::---------::::.............:::::::------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%-**...=--==++.                   
                  .:=+=*-*%@@@#+%@@%%%%%%%%##**++=++====-::.............::-----::::::-@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%-**...=---==+.                   
                  -=+--+:+%@@@#+%@@%#**=-...::-=**#%@@@@@@@@@%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=**...=---===.                   
                  =--:.-:-#@@@%+%@@%##*+-.....:=++##%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=**...=:---==.                   
                 .-:...:.:=%@@%+%@@%%#*+=.....:-=+*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=#+...=:---=-                    
                 ..:......-#@@%+%@@%%#*+=......-=+*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=#+..:=----=:                    
                 .........-*@@%+#@@%%#*+=......:=+*#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=#=..:=----=:                    
                 ..:......-*%@%*#@@@%#*+-:.....:-+*#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=%+..------=.                    
                 ..:......-+%@%**@@@%#*+=:... .:-=+*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=%=..=-----=.                    
                 ..-.....:-+%@%#*@@@%%#+=:.....:-=+*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=%=..=----=+                     
                 .-=:..-:.-=#@@#*@@@@%#+=-.....:-=+*#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=#:.:=----==                     
                  +==.:=:::+*%@#*@@@@%#*+-.....:-=+*#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#+#:.-=----=:                     
                  +++-=*%+:==%@%*@@@@%#*+=:....:-=+*#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@***..------=.                     
                  ..=+=#%%-==#@%*@@@@%#*+=:....:-=+*##%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*%=.:=---:-=                      
                   .:+=*#@+--*@%#%@@@%%#*+-....:-=+**#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+%-.:=--:-=-                      
                    .:=*#%*-=-@%%%@@@@%#*+=....:-=++*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+%:.-=--:-=.                      
                     .:=#%%-++%@%@@@@@%#*+=:..::-=++*#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#+#..==----+.                      
                      .-*##=*%@@@@@@@@%#*+=:..::-==+*#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#*+.:+----==                       
                        :**++=+#@@@@@@@#**+-..::--=+*##%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+#:.:+----=.                       
                             .:+=+#@@@@@@%+=..::--=+*##%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=*..-+----=.                       
                                 .=-.-#%#*%@@@#=--=++*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%--+=---==                        
                                    -#+:.:=+**#%@@@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*#*=---=:                        
                                    .:.:+#*=:..:-+*%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#+*+----=.                        
                                    .-:...#==+*##*+===----=++*##%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%++++---==                         
                                     ::...#%+++*******###*+=-::::::-------------------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*+++=---=-                         
                                     .::..-@++=**=++*****#***#@@%*++==+*#%%%%%*++=====@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#=*-+=---+.                         
                                     .-:...%*+=++=+++++++===%%%%#*+==++***#*=========-@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#=*=-+=--==.                         
                                      .:::.-%+++*+++++++=--=====------:---=====-------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*+*=-=+=--+-                          
                                       -:::.%*++++++++++=-:-=-==---------------:::----@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+#*=-:*+--=+.                          
                                       :::::-@++++++++++==--=--=----------------------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@**#*+=-:#+-=++.                          
                                        :::::+%++++++++++=-------::-------------------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@**%***+-::*+++:.                           
                                         :::::%#+++++++++==------:::::----------------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%**%%****=-:-.                                
                                          .:::-@*++++++++==--=--::::::::--------------@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#*+*@%****+=-::                                 
                                           .-::*@++++++++===--::::::::::--------------@@@@@@@@@@@@@@@@@@@@@@@@@@@%*=-=++#@@****+=-:-.                                 
                                            .-:-%%+++=+=====--::::::::--------::::::::@@@@@@@@%%%%%%%%%@%%#*+=::::::=++*%@%****+=-:.                                  
                                              .--%*+++=======-::::::::--******++++++++===--:::::.........:::::::.::=+++#@@#****=--:                                   
                                               .=-%*+++======-:::::::::-@@@@@@@@@@@@@@+++++======----:::::::.....::+++*@@%****+=--                                    
                                                 .=%++++=====-:::::::::-=+****########++=======----::::.........::=+++#@@**#*+=-:                                     
                                                  .-+++=====--::::::::::::::::-------:======-----::::...........:-=++*@@#****==.                                      
                                                    .+++====--::::::::::::::::::::::::-==------:::::...........::=++*%@%****+=.                                       
                                                      :*+===--::-=::::::::::::::::::::------::::::.............::++*#@@*#**+=                                         
                                                       .=+==--:.:#=:::::::::::::::::::----:::::::.............::=+++@@#*#*+.                                          
                                                         .+==-:.:==::..:::::::::::::::---:::::::.............::-===#@%***.                                            
                                                           :==-.:-+:::::::........::::--:::::::.............:::---+@%##.                                              
                                                            .--:..+-..............:::.:-:::::::.............:::--+@%+.                                                
                                                              .=:.==..::::............::::::::.............::::-=#-                                                   
                                                                .=#::----------------:::::::::.............:::=:.                                                     
                                                                  ..+==---------------:::::::.....::....::..                                                          
                                                                        ..........................                                                                    
"""

trtn = r"""
___________    .__              .__       .__                             .__                    __  .__                            __  .__               
\__    ___/___ |  |   _______  _|__| _____|__| ____   ____   _______ __ __|  |   ____   ______ _/  |_|  |__   ____     ____ _____ _/  |_|__| ____   ____  
  |    |_/ __ \|  | _/ __ \  \/ /  |/  ___/  |/  _ \ /    \  \_  __ \  |  \  | _/ __ \ /  ___/ \   __\  |  \_/ __ \   /    \\__  \\   __\  |/  _ \ /    \ 
  |    |\  ___/|  |_\  ___/\   /|  |\___ \|  (  <_> )   |  \  |  | \/  |  /  |_\  ___/ \___ \   |  | |   Y  \  ___/  |   |  \/ __ \|  | |  (  <_> )   |  \
  |____| \___  >____/\___  >\_/ |__/____  >__|\____/|___|  /  |__|  |____/|____/\___  >____  >  |__| |___|  /\___  > |___|  (____  /__| |__|\____/|___|  /
             \/          \/             \/               \/                         \/     \/             \/     \/       \/     \/                    \/ 
"""

atw = r"""
   _____ __________ ________   ____ __________  ________    ______________ ______________  __      __________ __________.____     ________   
  /  _  \\______   \\_____  \ |    |   \      \ \______ \   \__    ___/   |   \_   _____/ /  \    /  \_____  \\______   \    |    \______ \  
 /  /_\  \|       _/ /   |   \|    |   /   |   \ |    |  \    |    | /    ~    \    __)_  \   \/\/   //   |   \|       _/    |     |    |  \ 
/    |    \    |   \/    |    \    |  /    |    \|    `   \   |    | \    Y    /        \  \        //    |    \    |   \    |___  |    `   \
\____|__  /____|_  /\_______  /______/\____|__  /_______  /   |____|  \___|_  /_______  /   \__/\  / \_______  /____|_  /_______ \/_______  /
        \/       \/         \/                \/        \/                  \/        \/         \/          \/       \/        \/        \/ 
"""

the_world = r"""
                                              ______________ ______________  __      __________ __________.____     ________   
                                              \__    ___/   |   \_   _____/ /  \    /  \_____  \\______   \    |    \______ \  
                                                |    | /    ~    \    __)_  \   \/\/   //   |   \|       _/    |     |    |  \ 
                                                |    | \    Y    /        \  \        //    |    \    |   \    |___  |    `   \
                                                |____|  \___|_  /_______  /   \__/\  / \_______  /____|_  /_______ \/_______  /
                                                              \/        \/         \/          \/       \/        \/        \/ 
"""

timeline = [
    (0.00, "left"),
    (5.58, "right"),
    (7.84, "left"),
    (13.27,"right"),
    (15.40,"left"),
    (20.81,"right"),
    (23.07,"left"),
    (28.47,"right"),
    (29.98,"right"),
]

timeline.sort()

#split the art down the middle
SPLIT_COL = 88
LEFT_PAD  = " " * SPLIT_COL

lines = full_art.splitlines()

left_art  = "\n".join(line[:SPLIT_COL]           for line in lines)
right_art = "\n".join(LEFT_PAD + line[SPLIT_COL:] for line in lines)

# function to clear the terminal
def clear():
    print("\033[2J\033[H", end="", flush=True)

PAUSE_COL  = 60
PAUSE_TIME = 2

# TRTN animation
def trtn_animation(text, bottom_art=None):
    clear()

    lines = text.splitlines()
    max_width = max(len(line) for line in lines)
    padded = [line.ljust(max_width) for line in lines]

    speed = 0.03

    for col in range(max_width + 1):
        clear()

        for line in padded:
            print(line[:col])
        
        if bottom_art:
            print(bottom_art)

        if col == PAUSE_COL:
            time.sleep(PAUSE_TIME)
            speed = 0.015

        time.sleep(speed)


# Functions to show frames
def show_left_frame():
    """Plays TRTN animation then shows the left helmet."""
    trtn_animation(trtn, bottom_art=left_art)

def show_right_frame():
    """Instant display of ATW + right helmet."""
    clear()
    print(atw)
    print(right_art)

# Main loop
BEAT = 60/126

def run_animation():
    clear()
    print("Press ENTER when the music starts.")
    input()

    start = time.time()
    idx = 0

    while idx < len(timeline):
        now = time.time() - start
        event_time, side = timeline[idx]

        if now >= event_time:
            if side == "left":
                show_left_frame()
            else:
                show_right_frame()

            idx += 1
        else:
            time.sleep(0.01)

    # flash full art for 1 minute
    flash_start = time.time()
    flash_duration = 60
    
    while time.time() - flash_start < flash_duration:
        clear()
        print(the_world)
        print(full_art)
        time.sleep(BEAT)

        clear()
        time.sleep(BEAT)


run_animation()